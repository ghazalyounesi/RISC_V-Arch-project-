# =================================================================
# بخش داده (Data Section)
.org 0x100
my_array:
    .word 10
    .word 20
    .word 30
    .word 40
result_storage:
    .word 0

# =================================================================
# بخش کد (Code Section)
.org 0x1000
main:
    li t0, 0x100        # t0 = آدرس شروع آرایه (my_array)
    li t1, 4            # t1 = شمارنده حلقه (4 عنصر)
    li t2, 0            # t2 = جمع‌کننده

loop:
    lw t3, 0(t0)        # خواندن مقدار از آرایه
    add t2, t2, t3      # جمع کردن مقدار خوانده شده
    addi t0, t0, 4      # رفتن به عنصر بعدی
    addi t1, t1, -1     # کاهش شمارنده

    .word 0xBAD1DEA     # هشدار تست: داده تصادفی در کد

    bne t1, zero, loop  # اگر شمارنده صفر نشده بود، ادامه بده

    li t0, 0x114        # آدرس result_storage
    sw t2, 0(t0)        # ذخیره جمع کل

halt:
    beq zero, zero, halt  # حلقه بی‌نهایت بدون استفاده از j
